\newif\ifArticle  \Articlefalse
\newif\ifTwoColumn\TwoColumnfalse
%-------------------------------------------------------------------------------

\ifDraft
  \documentclass[onecolumn, a4paper, 12pt, titlepage, fleqn, oneside]{book}
\else
  \ifFormal
    \documentclass[onecolumn, a4paper, 11pt, titlepage, fleqn]{book}
  \else
    \documentclass[onecolumn, a4paper, 11pt, titlepage, fleqn, oneside]{book}
  \fi
\fi
\bibliographystyle{IEEEtran}
%-------------------------------------------------------------------------------

% Widen the text area
\usepackage{a4wide}

% Swap the margins around
\newlength{\TempLength}
\setlength{\TempLength}    {\oddsidemargin}
\setlength{\oddsidemargin} {\evensidemargin}
\setlength{\evensidemargin}{\TempLength}

% Use "blocky" paragraphs
\setlength{\parskip}{1em}
\setlength{\parindent}{0mm}
%-------------------------------------------------------------------------------

\ifFormal
  \usepackage{fancyhdr}
  \pagestyle{fancy}
  \fancyhead{}
  \fancyhead[LE]{\thepage}
  \fancyhead[RE]{\leftmark}
  \fancyhead[LO]{\rightmark}
  \fancyhead[RO]{\thepage}
  \setlength{\headheight}{15pt}
  
  \fancyfoot{}
  
  % Make empty pages before chapters truly empty (from fancyhdr manual)
  
  \makeatletter
   \def\cleardoublepage{\clearpage\if@twoside \ifodd\c@page\else
    \mbox{}
    \thispagestyle{empty}
    \newpage
    \if@twocolumn\hbox{}\newpage\fi\fi\fi}
  \makeatother
\else
  \pagestyle{plain}
\fi
%-------------------------------------------------------------------------------

\makeatletter
  \newcommand\Chapter[1]{%
    \chapter{#1}%
    \addcontentsline{lof}{chapter}{\thechapter{}~~#1}%
    \addcontentsline{lot}{chapter}{\thechapter{}~~#1}%
  }
  \renewcommand\subsubsection[1]{%
    \par%
    \vspace{3ex plus 0.5ex minus 0.2ex}%
    \refstepcounter{subsubsection}%
    {\normalfont\normalsize\bfseries\thesubsubsection~~~#1}
    \pdfbookmark[3]{\thesubsubsection~#1}{sssec:\thesubsubsection}\par
    \vspace{1.5ex plus 0.2ex}%
  }
  \renewcommand\subparagraph{%
    \@startsection{subparagraph}{5}{\parindent}%
    {3.25ex \@plus1ex \@minus .2ex}%
    {-1em}%
    {\normalfont\normalsize\slshape}% The default is \bfseries
  }
\makeatother
%-------------------------------------------------------------------------------
